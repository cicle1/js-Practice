<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    
        table {
            margin: 200px auto;
            /* 表格的边框合并，如果相邻，则共用一个边框。 */
            border-collapse: collapse;
            /* 设置行与单元格边框的间距。 */
            border-spacing: 0px;
        }
    
        thead {
            background: blue;
        }
    
        tr {
            border-bottom: 1px solid #000000;
        }
    
        .bg {
            background: green;
        }
    </style>
</head>


<body>
    <table>
        <thead>
            <th><input type="checkbox" id="j_cbAll"></th>
            <th>代码</th>
            <th>名称</th>
            <th>最新公布净值</th>
            <th>累计净值</th>
            <th>前单位净值</th>
            <th>净值增长率</th>
        </thead>
        <tbody id="j_tb">
            <tr>
                <td><input type="checkbox"></td>
                <td>003526</td>
                <td>开放债券</td>
                <td>1.075</td>
                <td>1.079</td>
                <td>1.074</td>
                <td>+0.035%</td>
            </tr>
            <tr>
                <td><input type="checkbox"></td>
                <td>003526</td>
                <td>开放债券</td>
                <td>1.075</td>
                <td>1.079</td>
                <td>1.074</td>
                <td>+0.035%</td>
            </tr>
            <tr>
                <td><input type="checkbox"></td>
                <td>003526</td>
                <td>开放债券</td>
                <td>1.075</td>
                <td>1.079</td>
                <td>1.074</td>
                <td>+0.035%</td>
            </tr>
        </tbody>
    </table>
    <script>
        //1.全选和取消全选做法：让下面所有复选框的 checked 属性 （选中状态）跟随 全选按钮即可
        //获取元素
        let j_cbAll = document.getElementById('j_cbAll')//全选按钮
        let j_tbs = document.getElementById('j_tb').getElementsByTagName('input')//下面所有复选框
        //注册事件
        j_cbAll.onclick = function () {
            //this.checked 它可以得到当前复选框的选中状态 如果是true 就是选中 如果是false 就是未选中
            console.log(this.checked)
            for (let i = 0; i < j_tbs.length; i++) {
                j_tbs[i].checked = this.checked
            }
        }
        //2.下面复选框需要全部选中，上面全选才能选中， 给下面所有复选框绑定点击事件，每次点击都要查询所有的复选框
        for (let i = 0; i < j_tbs.length; i++) {
            j_tbs[i].onclick = function () {
                //flag 控制全选按钮是否选中
                let flag = true;
                //每次点击下面的复选框都要循环检查4个小按钮是否全被选中
                for (let i = 0; i < j_tbs.length; i++) {
                    if (!j_tbs[i].checked) {
                        flag = false
                    }
                }
                j_cbAll.checked = flag
            }

        }



    </script>
</body>

</html>