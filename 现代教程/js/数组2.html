<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* 随机排列数组
        重要程度: 3
        编写函数 shuffle(array) 来随机排列数组的元素。

        多次运行 shuffle 可能导致元素顺序的不同。例如：

        let arr = [1, 2, 3];

        shuffle(arr);
        // arr = [3, 2, 1]

        shuffle(arr);
        // arr = [2, 1, 3]

        shuffle(arr);
        // arr = [3, 1, 2]
        // ...
        所有元素顺序应该具有相等的概率。例如，可以将[1, 2, 3] 重新排序为[1, 2, 3] 或[1, 3, 2] 或[3, 1, 2] 等，每种情况的概率相等。 */

        /*  function shuffle(array) {
             for (let i = array.length - 1; i > 0; i--) {
                 let j = Math.floor(Math.random() * (i + 1)); // 从 0 到 i 的随机索引
                 console.log(j,88);
                 // 交换元素 array[i] 和 array[j]
                 // 我们使用“解构分配（destructuring assignment）”语法来实现它
                 // 你将在后面的章节中找到有关该语法的更多详细信息
                 // 可以写成：
                 // let t = array[i]; array[i] = array[j]; array[j] = t
                 [array[i], array[j]] = [array[j], array[i]];
             }
         }
         // 所有可能排列的出现次数
         let count = {
             '123': 0,
             '132': 0,
             '213': 0,
             '231': 0,
             '321': 0,
             '312': 0
         };
 
         for (let i = 0; i < 1000000; i++) {
             let array = [1, 2, 3];
             shuffle(array);
             count[array.join('')]++;
         }
 
         // 显示所有可能排列的出现次数
         for (let key in count) {
             alert(`${key}: ${count[key]}`);
         } */

        /*   获取平均年龄
          重要程度: 4
          编写 getAverageAge(users) 函数，该函数获取一个具有 age 属性的对象数组，并返回平均年龄。
  
          平均值的计算公式是(age1 + age2 + ... + ageN) / N。
  
          例如：
  
          let john = { name: "John", age: 25 };
          let pete = { name: "Pete", age: 30 };
          let mary = { name: "Mary", age: 29 };
  
          let arr = [john, pete, mary];
  
          alert(getAverageAge(arr)); // (25 + 30 + 29) / 3 = 28 */
        /*  function getAverageAge(users) {
             return users.reduce((pre,user)=>pre+user.age,0)/users.length;
         }
 
         let john = { name: "John", age: 25 };
         let pete = { name: "Pete", age: 30 };
         let mary = { name: "Mary", age: 29 };
 
         let arr = [john, pete, mary];
 
         alert(getAverageAge(arr)); // 28 */

        /* 数组去重
        重要程度: 4
        arr 是一个数组。

        创建一个函数 unique(arr) ，返回去除重复元素后的数组 arr。

        例如：

        function unique(arr) {
           your code 
        }

        let strings = ["Hare", "Krishna", "Hare", "Krishna",
            "Krishna", "Krishna", "Hare", "Hare", ":-O"
        ];

        alert(unique(strings)); // Hare, Krishna, :-O */

        //解决方案
        /*   function unique(arr) {
              let result = [];
  
              for (let str of arr) {
                  if (!result.includes(str)) {
                      result.push(str);
                  }
              }
              return result;
          }
          let strings = ["Hare", "Krishna", "Hare", "Krishna","Krishna", "Krishna", "Hare", "Hare", ":-O"];
  
          alert(unique(strings)); // Hare, Krishna, :-O */

        /*   从数组创建键（值）对象
          重要程度: 4
          假设我们收到了一个用户数组，形式为：{ id:..., name:..., age... } 。
  
          创建一个函数 groupById(arr) 从该数组创建对象，以 id 为键（key），数组项为值。
  
          例如:
  
          let users = [
              { id: 'john', name: "John Smith", age: 20 },
              { id: 'ann', name: "Ann Smith", age: 24 },
              { id: 'pete', name: "Pete Peterson", age: 31 },
          ];
  
          let usersById = groupById(users);
  
          
          // 调用函数后，我们应该得到：
          
          usersById = {
            john: {id: 'john', name: "John Smith", age: 20},
            ann: {id: 'ann', name: "Ann Smith", age: 24},
            pete: {id: 'pete', name: "Pete Peterson", age: 31},
          }
          
          处理服务端数据时，这个函数很有用。
  
          在这个任务里我们假设 id 是唯一的。没有两个具有相同 id 的数组项。
  
          请在解决方案中使用数组的.reduce 方法。 */
        //解决方案
        /*  function groupById(arr) {
             return arr.reduce((obj, value) => {
                 //console.log(obj)
               //  console.log(value)
                 obj[value.id]=value;
                 return obj;
             })
         }
         let users = [
             { id: 'john', name: "John Smith", age: 20 },
             { id: 'ann', name: "Ann Smith", age: 24 },
             { id: 'pete', name: "Pete Peterson", age: 31 },
         ];
 
         let usersById = groupById(users);
         console.log(usersById) */

        /*  
        //通过迭代求1到100的和
        function add(num1, num2) {
            var num = num1 + num2;
            if (num2 + 1 > 100) {
                return num;
            } else {
                return add(num, num2 + 1)
            }
        }
        var sum = add(1, 2)
        console.log(sum) */
    </script>
</body>

</html>